function GetDataTable(n,t,i,r){var e=n.fields[0],u=n.actions[0],c=n.styles!==undefined?n.styles[0].cond:null,o=n.rowid!==undefined?n.rowid[0].cond:null,s,f,h;$("#preLoader").show(50);i===null&&(i=15);$("#"+r).empty().html('<div id="subContainer_'+r+'"><table class="table table-responsive table-condensed table-striped"  style="margin-bottom:1px;" id="mTable'+r+'"><thead><tr id="tHeaders'+r+'"><\/tr><\/thead><div><\/div><tbody data-bind="foreach: Rows" style="cursor:pointer" id="tMainBody'+r+'"><\/tbody><\/table><\/div>');s="";for(h in e)s+="<th>"+e[h]+"<\/th>";s+="<th><\/th>";$("#tHeaders"+r).append(s);e.rowstyle!==undefined&&(console.log(e.rowstyle),delete e.rowstyle);f=c!=null?o!=null?"<tr class="+u.Details+' data-bind="style: { background: ('+c+")? '#FDBCBC' : '#B6FFB6' }\" data-bind=\"attr: { data-id: "+o+' }">':"<tr class="+u.Details+' data-bind="style: { background: ('+c+")? '#FDBCBC' : '#B6FFB6' }\">":o!=null?"<tr class="+u.Details+" data-bind=\"attr: { 'data-id': "+o+' }">':"<tr class="+u.Details+">";for(h in e)f+='<td  data-bind="click: function(){$parent.AssignDetails($data, '+u.Details+")};, text: "+h+'"><\/td>';(u.Update!=undefined||u.Delete!=undefined)&&(f+='<td style="width:7%">',u.Update!=undefined&&(f+='<a href="#" data-bind="click: function(){$parent.EditObject($data, '+u.Update+')};" class="btn btn-xs btn-default" title="\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c"><i class="fa fa-edit"><\/i><\/a>'),u.Delete!=undefined&&(f+='<a href="#" data-bind="click: function(){$parent.RemoveObject($data,'+u.Delete+')};" class="btn btn-xs btn-warning" title="\u0423\u0434\u0430\u043b\u0438\u0442\u044c"><i class="fa fa-trash"><\/i><\/a>'),f+="<\/td>");$("#tMainBody"+r).append(f);ko.applyBindings(new GetAssignments(t),document.getElementById("subContainer_"+r))}function GetAssignments(n){var t=this;t.AssignDetails=function(n,t){switch(t){case"Category":__catName=n.category_desc;CategoryToSubdirectory(n.id);break;case"subCategory":__subCatName=n.subcategory_desc;SubdirectoryToProduct(n.id);break;case"ContractsDetails":ContractDetails.GetContract("#ic-details",n.id)}};t.RemoveObject=function(n,t){switch(t){case"Category":CategoryDelete(n.id);break;case"subCategory":SubCategoryDelete(n.id);break;case"Product":ProductDelete(n.id)}};t.EditObject=function(n,t){switch(t){case"Category":CategoryEdit(n.id);break;case"subCategory":SubCategoryEdit(n.id);break;case"Product":ProductEdit(n.id)}};t.Rows=ko.observableArray();t.getData=function(){$.get(n,function(n){t.Rows.splice(0);t.Rows(n);$("#tfoot").empty().html("<p>\u0417\u0430\u043f\u0438\u0441\u0435\u0439 \u0432 \u0442\u0430\u0431\u043b\u0438\u0446\u0435: "+n.length)}).success(function(){$("#preLoader").hide(200)})};t.init=function(){t.getData()};t.init()}function NewObject(n,t,i,r){$.ajax(n,{method:"POST",data:t,success:function(n){switch(i){case 1:GetCategories("");break;case 2:GetSubCategories(r,"");break;case 3:Getproducts(r,"");break;case 5:GetOrgs("");break;case 6:GetContracts("");GetPrintContract(n);r()}}})}function NewInvocObject(n,t,i){$.ajax(n,{method:"POST",data:t,processData:!1,contentType:!1,success:function(n){switch(i){case 4:$("#categoryMessages").modal("hide");break;case 7:ContractDetails.GetContractDetails(n);$("#categoryMessages").modal("hide")}}})}function UpdateObject(n,t,i,r){$.ajax(n,{method:"PUT",data:t,success:function(){switch(i){case 1:GetCategories("");break;case 2:GetSubCategories(r,"");break;case 3:Getproducts(r,"");break;case 4:FillPersonCard(r,function(){})}}})}function DeleteObject(n,t,i){$.ajax(n,{method:"DELETE",success:function(){switch(t){case 1:GetCategories("");break;case 2:GetSubCategories(i,"");break;case 3:Getproducts(i,"")}}})}